<div class="bg-light border rounded p-3 shadow">
  <h2>ジャンル登録と管理</h2>

  <%= render 'layouts/error_messages', model: @genre %>

  <div class="form-horizontal col-md-4 mt-3">
    <%= form_with model: @genre, url: admin_genres_path(@genre), local:true do |f| %>

        <%= f.label :name %>

      <div class="input-group">
        <%= f.text_field :name, placeholder: 'ジャンル名', class: "form-control" %>
        <%= f.submit '登録する', class: "input-btn-group btn btn-success" %>
      </div>

    <% end %>
  </div>

  <table class="table border col-md-9 mt-3">
    <tr>
      <th>ジャンル名</th>
      <th>使用数</th>
      <th></th>
    </tr>

    <% Genre.all.each do |genre| %>
      <tr>
        <td><%= genre.name %></td>
        <td><%= genre.foods.count %></td>
        <td><%= link_to '編集する', edit_admin_genre_path(genre), class: "btn btn-success" %></td>
      </tr>
    <% end %>
  </table>
</div>
